{% extends "base.html" %}
{% block title %}Ajouter Profil{% endblock %}
{% block content %}
	<h1>Ajout d'un profil:</h1>
	<form id="category_form" method="post" action="/profil/Ajouter_Profil/">
	 	{% csrf_token %}
	  	<div class="form-group {%if erreur %}has-error {%endif%} has-feedback">
			<label class="control-label" for="NomProfil">Nom</label>
			<input type="text"  class="form-control" name="NomProfil" id="NomProfil" placeholder="Enter nom">
			{%if erreur %}
	       		<span class="glyphicon glyphicon-remove form-control-feedback"></span>
	        	<span class="help-block">{{erreur}}</span>
	        {%endif%}
	  	</div>
	  	<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">Ajout d'une régle</h3>
			</div>
			<div class="panel-body">
				<label>Déclencheur</label>
				<SELECT name="nomDeclencheur" id="nomDeclencheur" onchange="ChangeValue();" size="1">
					<OPTION>Temperature
					<OPTION>Presence
					<OPTION>Jours
					<OPTION>Heure
					<OPTION>Meteo
		  		</SELECT>
		  		</br>
		  		<label>Sélection du capteur déclencheur</label>
		  		<div id="divtemperature">
			  		{% if listCapteurTemperature %}
			  			<SELECT name="nomCapteurTemperature" id="nomCapteurTemperature"  size="1">
			  			{% for capteur in listCapteurTemperature %}
			  				<OPTION >{{capteur.nom}}
			  			{%endfor%}
			  			</SELECT>
			  		</br>
			  			<label class="control-label" for="temperatureValue">Entrer la valeur de la temperature </label>
			  			<input type="text"  class="form-control" name="temperatureValue" id="temperatureValue" placeholder="Enter Temperature">
			  			<label class="checkbox-inline">
	  					<input type="checkbox" name = "minimum" id="minimum" value="minimum"  > Minimum
		  					
			  		{%endif%}
			  	</div>
			  	<div id="divPresence" style="display:none" >
			  		{% if listCapteurPresence %}
			  			<SELECT name="nomCapteurPresence" id="nomCapteurPresence"  size="1">
			  			{% for capteur in listCapteurPresence %}
			  				<OPTION >{{capteur.nom}}
			  			{%endfor%}
			  			</SELECT>
			  			<label class="checkbox-inline">
	  					<input type="checkbox" name = "isPresent" id="isPresent" value="isPresent"  > Present
			  		{%endif%}
		  		</div>
		  		<div id="nomJour" style="display:none">
			  		<label class="checkbox-inline">
	  					<input type="checkbox" name="lundi" id="inlineCheckbox1" value="Lundi"> Lundi
					</label>
					<label class="checkbox-inline">
	  					<input type="checkbox" name="mardi" id="inlineCheckbox1" value="Mardi"> Mardi
					</label>
					<label class="checkbox-inline">
	  					<input type="checkbox" name="mercredi" id="inlineCheckbox1" value="Mercredi"> Mercredi
					</label>
					<label class="checkbox-inline">
	  					<input type="checkbox" name="jeudi" id="inlineCheckbox1" value="Jeudi"> Jeudi
					</label>
					<label class="checkbox-inline">
	  					<input type="checkbox" name = "vendredi" id="inlineCheckbox1" value="Vendredi"> Vendredi
					</label>
					<label class="checkbox-inline">
	  					<input type="checkbox" name = "samedi"id="inlineCheckbox1" value="Samedi"> Samedi
					</label>
					<label class="checkbox-inline">
	  					<input type="checkbox" name="dimanche" id="inlineCheckbox1" value="Dimanche"> Dimanche
					</label>
				</div>
				<div id="divHeure" style="display:none">
					<label class="control-label" for="Heure">Entrer l'heure de debut </label>
			  			<input type="text"  class="form-control" name="heuredebut" id="heuredebut" placeholder="HH:MM">
			  			<label class="control-label" for="Heure">Entrer l'heure de fin </label>
			  			<input type="text"  class="form-control" name="heurefin" id="heurefin" placeholder="HH:MM">
				</div>
				<div id="divMeteo" style="display:none">
				</div>
		  		</br>
		  		<label>Action</label>
		  		</br>
		  		{% if listActionneur %}
		  			<SELECT name="nomActionneur" id="nomActionneur"  size="1">
		  			<h2>CC</h2>
		  			{% for actionneur in listActionneur %}
		  				<OPTION >{{actionneur.nom}}
		  			{%endfor%}
		  			</SELECT>
		  			<label class="checkbox-inline">
	  					<input type="checkbox" name = "action" id="action" value="action"  > On
		  		{%endif%}	

				
			</div>
		<input type="submit" value="Entrer"  class="btn btn-default">
  </form>
 

{% endblock %}
{%block footer%}
<script language="JavaScript">
	function ChangeValue()
	{
		list = document.getElementById("nomDeclencheur");
		if (list.value == 'Temperature')
		{
			capteur = document.getElementById("divtemperature");
			capteur.style.display="block";
			capteur2 = document.getElementById("divPresence");
			capteur2.style.display = "none";
			capteurJour = document.getElementById("nomJour");
			capteurJour.style.display="none";
			capteurHeure = document.getElementById("divHeure");
			capteurHeure.style.display="none";
		}
		if(list.value == 'Presence'){
			capteur = document.getElementById("divtemperature");
			capteur.style.display="none";
			capteur2 = document.getElementById("divPresence");
			capteur2.style.display = "block";
			capteurJour = document.getElementById("nomJour");
			capteurJour.style.display="none";
			capteurHeure = document.getElementById("divHeure");
			capteurHeure.style.display="none";
			capteurMeteo = document.getElementById("divMeteo");
			capteurMeteo.style.display="none";
		}
		if (list.value == 'Jours'){
			capteurJour = document.getElementById("nomJour");
			capteurJour.style.display="block";
			capteurTemperature = document.getElementById("divtemperature");
			capteurTemperature.style.display="none";
			capteurPresence = document.getElementById("divPresence");
			capteurPresence.style.display = "none";
			capteurHeure = document.getElementById("divHeure");
			capteurHeure.style.display="none";
			capteurMeteo = document.getElementById("divMeteo");
			capteurMeteo.style.display="none";
		}
		if (list.value == 'Heure'){
			capteurJour = document.getElementById("nomJour");
			capteurJour.style.display="none";
			capteurTemperature = document.getElementById("divtemperature");
			capteurTemperature.style.display="none";
			capteurPresence = document.getElementById("divPresence");
			capteurPresence.style.display = "none";
			capteurHeure = document.getElementById("divHeuxre");
			capteurHeure.style.display="block";
			capteurMeteo = document.getElementById("divMeteo");
			capteurMeteo.style.display="none";
		}
			if (list.value == 'Meteo'){
			capteurJour = document.getElementById("nomJour");
			capteurJour.style.display="none";
			capteurTemperature = document.getElementById("divtemperature");
			capteurTemperature.style.display="none";
			capteurPresence = document.getElementById("divPresence");
			capteurPresence.style.display = "none";
			capteurHeure = document.getElementById("divHeure");
			capteurHeure.style.display="none";
			capteurMeteo = document.getElementById("divMeteo");
			capteurMeteo.style.display="block";
		}
		
	}
</script>

{% endblock %}